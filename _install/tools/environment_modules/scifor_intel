#%Modules
proc ModulesHelp { } {
        puts stderr "\tThis module provides access to Scientific Fortran (SciFor) library\n";
	puts stderr "\t Version 2.0\n"
}

module-whatis "Scientific Fortran Library"

if { ! [is-loaded minpack/intel ] }  {
        module load minpack/intel
 }

if { ! [is-loaded fftpack/intel ] }  {
        module load fftpack/intel
 }

if { ! [is-loaded quadpack/intel ] }  {
        module load quadpack/intel
 }

prereq minpack/intel fftpack/intel quadpack/intel

setenv SFROOT /opt/scifor-2.0

prepend-path LD_LIBRARY_PATH    "/opt/scifor-2.0/intel/lib"
prepend-path LIBRARY_PATH       "/opt/scifor-2.0/intel/lib"
prepend-path CPATH		"/opt/scifor-2.0/intel/include"
prepend-path FPATH		"/opt/scifor-2.0/intel/include"
prepend-path PATH		"/opt/scifor-2.0/intel/bin"

setenv FC     ifort
setenv FFLAG  "-O2"
set-alias make {make -I/opt/scifor-2.0/include}
set-alias sf_print_sf_args {echo "tentative linking arguments (including MKL):"; echo "-lscifor -lmkl_intel_lp64 -lmkl_sequential -lmkl_core -lpthread -lm -lminpack -lfftpack -lquadpack"}
set-alias sf_print_mkl_args {echo "-lmkl_intel_lp64 -lmkl_sequential -lmkl_core -lpthread -lm"}

puts stderr "\n\t SciFor environment (un)loaded (intel)"

#EOF
